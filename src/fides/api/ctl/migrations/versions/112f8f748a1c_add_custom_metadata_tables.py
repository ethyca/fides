"""Add custom metadata_tables

Revision ID: 112f8f748a1c
Revises: 2ecfe67f86e9
Create Date: 2023-01-18 14:22:40.905780

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = "112f8f748a1c"
down_revision = "2ecfe67f86e9"
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index("ix_plus_custom_field_fides_key", table_name="plus_custom_field")
    op.drop_column("plus_custom_field", "fides_key")
    op.drop_index(
        "ix_plus_custom_field_definition_fides_key",
        table_name="plus_custom_field_definition",
    )
    op.drop_column("plus_custom_field_definition", "fides_key")
    op.drop_index(
        "ix_plus_custom_field_value_list_fides_key",
        table_name="plus_custom_field_value_list",
    )
    op.drop_column("plus_custom_field_value_list", "fides_key")
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column(
        "plus_custom_field_value_list",
        sa.Column("fides_key", sa.VARCHAR(), autoincrement=False, nullable=True),
    )
    op.create_index(
        "ix_plus_custom_field_value_list_fides_key",
        "plus_custom_field_value_list",
        ["fides_key"],
        unique=False,
    )
    op.add_column(
        "plus_custom_field_definition",
        sa.Column("fides_key", sa.VARCHAR(), autoincrement=False, nullable=True),
    )
    op.create_index(
        "ix_plus_custom_field_definition_fides_key",
        "plus_custom_field_definition",
        ["fides_key"],
        unique=False,
    )
    op.add_column(
        "plus_custom_field",
        sa.Column("fides_key", sa.VARCHAR(), autoincrement=False, nullable=True),
    )
    op.create_index(
        "ix_plus_custom_field_fides_key",
        "plus_custom_field",
        ["fides_key"],
        unique=False,
    )
    # ### end Alembic commands ###
