"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EncodableFlexibleBitfield=void 0;const FixedBitfieldEncoder_js_1=require("./encoder/FixedBitfieldEncoder.js"),AbstractEncodableBitStringDataType_js_1=require("./AbstractEncodableBitStringDataType.js"),EncodingError_js_1=require("../error/EncodingError.js"),DecodingError_js_1=require("../error/DecodingError.js"),SubstringError_js_1=require("./SubstringError.js"),StringUtil_js_1=require("../util/StringUtil.js");class EncodableFlexibleBitfield extends AbstractEncodableBitStringDataType_js_1.AbstractEncodableBitStringDataType{constructor(e,r,t=!0){super(t),this.getLength=e,this.setValue(r)}encode(){try{return FixedBitfieldEncoder_js_1.FixedBitfieldEncoder.encode(this.value,this.getLength())}catch(e){throw new EncodingError_js_1.EncodingError(e)}}decode(e){try{this.value=FixedBitfieldEncoder_js_1.FixedBitfieldEncoder.decode(e)}catch(e){throw new DecodingError_js_1.DecodingError(e)}}substring(e,r){try{return StringUtil_js_1.StringUtil.substring(e,r,r+this.getLength())}catch(e){throw new SubstringError_js_1.SubstringError(e)}}getValue(){return[...super.getValue()]}setValue(e){let r=this.getLength(),t=[...e];for(let e=t.length;e<r;e++)t.push(!1);t.length>r&&(t=t.slice(0,r)),super.setValue([...t])}}exports.EncodableFlexibleBitfield=EncodableFlexibleBitfield;