"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedIntegerEncoder=void 0;const DecodingError_js_1=require("../../error/DecodingError.js"),EncodingError_js_1=require("../../error/EncodingError.js");class FixedIntegerEncoder{static encode(e,r){let o=[];if(e>=1)for(o.push(1);e>=2*o[0];)o.unshift(2*o[0]);let t="";for(let r=0;r<o.length;r++){let n=o[r];e>=n?(t+="1",e-=n):t+="0"}if(t.length>r)throw new EncodingError_js_1.EncodingError("Numeric value '"+e+"' is too large for a bit string length of '"+r+"'");for(;t.length<r;)t="0"+t;return t}static decode(e){if(!/^[0-1]*$/.test(e))throw new DecodingError_js_1.DecodingError("Undecodable FixedInteger '"+e+"'");let r=0,o=[];for(let r=0;r<e.length;r++)o[e.length-(r+1)]=0===r?1:2*o[e.length-r];for(let t=0;t<e.length;t++)"1"===e.charAt(t)&&(r+=o[t]);return r}}exports.FixedIntegerEncoder=FixedIntegerEncoder;