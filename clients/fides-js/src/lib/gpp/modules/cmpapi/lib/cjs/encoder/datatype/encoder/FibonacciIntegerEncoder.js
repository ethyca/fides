"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FibonacciIntegerEncoder=void 0;const DecodingError_js_1=require("../../error/DecodingError.js");class FibonacciIntegerEncoder{static encode(e){let r=[];if(e>=1&&(r.push(1),e>=2)){r.push(2);let t=2;for(;e>=r[t-1]+r[t-2];)r.push(r[t-1]+r[t-2]),t++}let t="1";for(let o=r.length-1;o>=0;o--){let n=r[o];e>=n?(t="1"+t,e-=n):t="0"+t}return t}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new DecodingError_js_1.DecodingError("Undecodable FibonacciInteger '"+e+"'");let r=0,t=[];for(let r=0;r<e.length-1;r++)0===r?t.push(1):1===r?t.push(2):t.push(t[r-1]+t[r-2]);for(let o=0;o<e.length-1;o++)"1"===e.charAt(o)&&(r+=t[o]);return r}}exports.FibonacciIntegerEncoder=FibonacciIntegerEncoder;