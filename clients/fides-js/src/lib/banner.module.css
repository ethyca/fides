/**
* Default CSS styles for the banner
*/
:root {
  --fides-consent-overlay-font-family: inherit;
  --fides-consent-overlay-font-size: 16px;
  --fides-consent-overlay-font-size-title: 18px;
  --fides-consent-overlay-background: #fff;
  --fides-consent-overlay-text-color: #24292f;
  --fides-consent-overlay-padding: 0.75em 2em 1em;

  --fides-consent-overlay-button-background: #eee;
  --fides-consent-overlay-button-text-color: #24292f;
  --fides-consent-overlay-button-hover-background: #ccc;
  --fides-consent-overlay-button-border-radius: 4px;
  --fides-consent-overlay-button-padding: 0.5em 1em;

  --fides-consent-overlay-button-primary-background: #464b83;
  --fides-consent-overlay-button-primary-text-color: #fff;
  --fides-consent-overlay-button-primary-hover-background: #3f4375;

  --fides-consent-overlay-button-secondary-background: var(
    --fides-consent-overlay-button-background
  );
  --fides-consent-overlay-button-secondary-text-color: var(
    --fides-consent-overlay-button-text-color
  );
  --fides-consent-overlay-button-secondary-hover-background: var(
    --fides-consent-overlay-button-hover-background
  );

  --fides-consent-overlay-button-tertiary-background: var(
    --fides-consent-overlay-button-background
  );
  --fides-consent-overlay-button-tertiary-text-color: var(
    --fides-consent-overlay-button-text-color
  );
  --fides-consent-overlay-button-tertiary-hover-background: var(
    --fides-consent-overlay-button-hover-background
  );

  /* In progress(fides#3258): start to transition to updated design colors */
  --fides-consent-overlay-primary-color: #8243f2;
  --fides-consent-overlay-background-color: #f7fafc;
  --fides-consent-overlay-primary-active-color: #824ef2;
  --fides-consent-overlay-primary-active-disabled-color: #bda4f7;
  --fides-consent-overlay-inactive-color: #cbd5e0;
  --fides-consent-overlay-disabled-color: #e1e7ee;
}

div#fides-consent-banner {
  font-family: var(--fides-consent-overlay-font-family);
  font-size: var(--fides-consent-overlay-font-size);
  background: var(--fides-consent-overlay-background);
  color: var(--fides-consent-overlay-text-color);
  box-sizing: border-box;
  padding: var(--fides-consent-overlay-padding);

  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  transition: transform 1s;
}

div#fides-consent-banner.fides-consent-banner-bottom {
  position: fixed;
  z-index: 1;
  width: 100%;
  bottom: 0;
  left: 0;
  transform: translateY(0%);
}

div#fides-consent-banner.fides-consent-banner-bottom.fides-consent-banner-hidden {
  transform: translateY(100%);
}

div#fides-consent-banner.fides-consent-banner-top {
  position: fixed;
  z-index: 1;
  width: 100%;
  top: 0;
  left: 0;
  transform: translateY(0%);
}

div#fides-consent-banner.fides-consent-banner-top.fides-consent-banner-hidden {
  transform: translateY(-100%);
}

div#fides-consent-banner-title {
  font-size: var(--fides-consent-overlay-font-size-title);
  margin-top: 0.5em;
  margin-right: 2em;
  min-width: 33%;
  flex: 1;
}

div#fides-consent-banner-description {
  margin-top: 0.5em;
  margin-right: 2em;
  min-width: 33%;
  flex: 1;
}

div#fides-consent-banner-buttons {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
}

button.fides-consent-banner-button {
  display: inline-block;
  flex: auto;
  cursor: pointer;
  text-align: center;
  margin: 0;
  margin-top: 0.25em;
  margin-right: 0.5em;
  padding: var(--fides-consent-overlay-button-padding);
  background: var(--fides-consent-overlay-button-background);
  color: var(--fides-consent-overlay-button-text-color);
  border: none;
  border-radius: var(--fides-consent-overlay-button-border-radius);

  font-family: inherit;
  font-size: 100%;
  line-height: 1.15;
  text-decoration: none;
}

button.fides-consent-banner-button:hover {
  background: var(--fides-consent-overlay-button-hover-background);
}

button.fides-consent-banner-button.fides-consent-banner-button-primary {
  background: var(--fides-consent-overlay-button-primary-background);
  color: var(--fides-consent-overlay-button-primary-text-color);
}

button.fides-consent-banner-button.fides-consent-banner-button-primary:hover {
  background: var(--fides-consent-overlay-button-primary-hover-background);
}

button.fides-consent-banner-button.fides-consent-banner-button-secondary {
  background: var(--fides-consent-overlay-button-secondary-background);
  color: var(--fides-consent-overlay-button-secondary-text-color);
}

button.fides-consent-banner-button.fides-consent-banner-button-secondary:hover {
  background: var(--fides-consent-overlay-button-secondary-hover-background);
}

button.fides-consent-banner-button.fides-consent-banner-button-tertiary {
  background: var(--fides-consent-overlay-button-tertiary-background);
  color: var(--fides-consent-overlay-button-tertiary-text-color);
}

button.fides-consent-banner-button.fides-consent-banner-button-tertiary:hover {
  background: var(--fides-consent-overlay-button-tertiary-hover-background);
}

/** Modal */
div#fides-consent-modal {
  font-family: var(--fides-consent-overlay-font-family);
  font-size: var(--fides-consent-overlay-font-size);
  background: var(--fides-consent-overlay-background);
  color: var(--fides-consent-overlay-text-color);
  box-sizing: border-box;
  padding: var(--fides-consent-overlay-padding);
  border: 1px solid var(--fides-consent-overlay-primary-color);
  background-color: var(--fides-consent-overlay-background-color);
  /* TODO: make dynamic? */
  border-radius: 6px;
  max-height: 100%;
  max-width: 100%;
  /* TODO: use a system for z-indexes */
  z-index: 1010;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  .modal-header {
    text-align: center;
    font-size: 1.2rem;
  }

  .modal-button-group {
    display: flex;
  }
}

.modal-overlay {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.modal-notices {
  margin-bottom: 1em;
}

/** Toggle, adapted from https://kittygiraudel.com/2021/04/05/an-accessible-toggle/ */

@media (prefers-reduced-motion: reduce) {
  .toggle-display {
    transition-duration: 0ms;
  }
}

.toggle {
  display: inline-flex;
  align-items: center;
  flex-wrap: wrap;
  position: relative;
  gap: 1ch;

  .toggle-input {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    z-index: 4;
  }

  .toggle-display {
    --offset: 0.1em;
    --diameter: 1em;

    display: inline-flex;
    align-items: center;
    justify-content: space-around;

    width: calc(var(--diameter) * 2 + var(--offset) * 2);
    height: calc(var(--diameter) + var(--offset) * 2);
    box-sizing: content-box;

    position: relative;
    border-radius: 100vw;
    background-color: var(--fides-consent-overlay-inactive-color);
    transition: 250ms;
    cursor: pointer;
  }

  .toggle-display::before {
    content: "";

    width: var(--diameter);
    height: var(--diameter);
    border-radius: 50%;

    box-sizing: border-box;

    position: absolute;
    z-index: 3;
    top: 50%;
    left: var(--offset);
    transform: translate(0, -50%);

    background-color: #fff;
    transition: inherit;
  }

  /* Checked/unchecked states */
  .toggle-input:checked + .toggle-display {
    background-color: var(--fides-consent-overlay-primary-active-color);
  }
  .toggle-input:checked + .toggle-display::before {
    transform: translate(100%, -50%);
  }

  /* Disabled state */
  .toggle-input:disabled {
    cursor: not-allowed;
  }
  .toggle-input:disabled + .toggle-display {
    background-color: var(--fides-consent-overlay-disabled-color);
  }
  .toggle-input:disabled:checked + .toggle-display {
    background-color: var(
      --fides-consent-overlay-primary-active-disabled-color
    );
  }

  /* Focus ring when using keyboard */
  .toggle-input:focus + .toggle-display {
    outline: 1px auto -webkit-focus-ring-color;
  }
  .toggle-input:focus:not(:focus-visible) + .toggle-display {
    outline: 0;
  }
}
