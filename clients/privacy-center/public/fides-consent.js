(function(i,r){typeof exports=="object"&&typeof module<"u"?module.exports=r():typeof define=="function"&&define.amd?define(r):(i=typeof globalThis<"u"?globalThis:i||self,i.Fides=r())})(this,function(){"use strict";/*! typescript-cookie v1.0.4 | MIT */const i=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),r=e=>encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent),u=decodeURIComponent,f=e=>(e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function N(e){return e=Object.assign({},e),typeof e.expires=="number"&&(e.expires=new Date(Date.now()+e.expires*864e5)),e.expires!=null&&(e.expires=e.expires.toUTCString()),Object.entries(e).filter(([n,t])=>t!=null&&t!==!1).map(([n,t])=>t===!0?`; ${n}`:`; ${n}=${t.split(";")[0]}`).join("")}function C(e,n,t){const s=/(?:^|; )([^=]*)=([^;]*)/g,o={};let c;for(;(c=s.exec(document.cookie))!=null;)try{const d=t(c[1]);if(o[d]=n(c[2],d),e===d)break}catch{}return e!=null?o[e]:o}const m=Object.freeze({decodeName:u,decodeValue:f,encodeName:i,encodeValue:r}),a=Object.freeze({path:"/"});function l(e,n,t=a,{encodeValue:s=r,encodeName:o=i}={}){return document.cookie=`${o(e)}=${s(n,e)}${N(t)}`}function g(e,{decodeValue:n=f,decodeName:t=u}={}){return C(e,n,t)}function b({decodeValue:e=f,decodeName:n=u}={}){return C(void 0,e,n)}function j(e,n=a){l(e,"",Object.assign({},n,{expires:-1}))}function p(e,n){const t={set:function(o,c,d){return l(o,c,Object.assign({},this.attributes,d),{encodeValue:this.converter.write})},get:function(o){if(arguments.length===0)return b(this.converter.read);if(o!=null)return g(o,this.converter.read)},remove:function(o,c){j(o,Object.assign({},this.attributes,c))},withAttributes:function(o){return p(this.converter,Object.assign({},this.attributes,o))},withConverter:function(o){return p(Object.assign({},this.converter,o),this.attributes)}},s={attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}};return Object.create(t,s)}p({read:m.decodeValue,write:m.encodeValue},a);const O="fides_consent",U=365,h={decodeName:decodeURIComponent,decodeValue:decodeURIComponent,encodeName:encodeURIComponent,encodeValue:encodeURIComponent},I=()=>{if(typeof document>"u")return{};const e=g(O,h);if(!e)return{};try{return JSON.parse(e)}catch(n){return console.error("Unable to read consent cookie: invalid JSON.",n),{}}},E=e=>{typeof document<"u"&&l(O,JSON.stringify(e),{domain:window.location.hostname,expires:U},h)};return{consent:I(),setConsentCookie:E}});
//# sourceMappingURL=fides-consent.js.map
