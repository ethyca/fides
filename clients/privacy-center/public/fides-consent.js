(function(r,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self,r.Fides=i())})(this,function(){"use strict";/*! typescript-cookie v1.0.4 | MIT */const r=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),i=e=>encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent),u=decodeURIComponent,f=e=>(e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function O(e){return e=Object.assign({},e),typeof e.expires=="number"&&(e.expires=new Date(Date.now()+e.expires*864e5)),e.expires!=null&&(e.expires=e.expires.toUTCString()),Object.entries(e).filter(([n,t])=>t!=null&&t!==!1).map(([n,t])=>t===!0?`; ${n}`:`; ${n}=${t.split(";")[0]}`).join("")}function p(e,n,t){const s=/(?:^|; )([^=]*)=([^;]*)/g,o={};let c;for(;(c=s.exec(document.cookie))!=null;)try{const d=t(c[1]);if(o[d]=n(c[2],d),e===d)break}catch{}return e!=null?o[e]:o}const m=Object.freeze({decodeName:u,decodeValue:f,encodeName:r,encodeValue:i}),a=Object.freeze({path:"/"});function C(e,n,t=a,{encodeValue:s=i,encodeName:o=r}={}){return document.cookie=`${o(e)}=${s(n,e)}${O(t)}`}function g(e,{decodeValue:n=f,decodeName:t=u}={}){return p(e,n,t)}function b({decodeValue:e=f,decodeName:n=u}={}){return p(void 0,e,n)}function j(e,n=a){C(e,"",Object.assign({},n,{expires:-1}))}function l(e,n){const t={set:function(o,c,d){return C(o,c,Object.assign({},this.attributes,d),{encodeValue:this.converter.write})},get:function(o){if(arguments.length===0)return b(this.converter.read);if(o!=null)return g(o,this.converter.read)},remove:function(o,c){j(o,Object.assign({},this.attributes,c))},withAttributes:function(o){return l(this.converter,Object.assign({},this.attributes,o))},withConverter:function(o){return l(Object.assign({},this.converter,o),this.attributes)}},s={attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}};return Object.create(t,s)}l({read:m.decodeValue,write:m.encodeValue},a);const U="fides_consent",N={decodeName:decodeURIComponent,decodeValue:decodeURIComponent,encodeName:encodeURIComponent,encodeValue:encodeURIComponent},h={consent:(()=>{if(typeof document>"u")return{};const e=g(U,N);if(!e)return{};try{return JSON.parse(e)}catch(n){return console.error("Unable to read consent cookie: invalid JSON.",n),{}}})(),gtm(){var e;typeof window>"u"||((e=window?.dataLayer)!=null?e:[]).push({Fides:{consent:h.consent}})}};return h});
